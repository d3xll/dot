#!/bin/bash
# walset — выбор обоев через rofi → передаёт в walset-backend

WALL_DIR="${HOME}/Wallpapers"   # ← поменяй под свою папку
CWD="$(pwd)"

cd "$WALL_DIR" || exit 1

# Обработка пробелов в именах + иконки (если rofi-icon-theme установлен)
# Если хочешь иконки — установи rofi-emoji или используй emoji в именах
SELECTED_WALL=$(for a in *.jpg *.png; 
                do echo -en "$a\0icon\x1f$a\n" ; 
                done | rofi -dmenu -p "")

if [ -n "$SELECTED_WALL" ]; then
   walset-backet "$SELECTED_WALL"
fi

cd "$CWD" || exit